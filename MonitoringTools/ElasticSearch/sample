hi<source>
  @type tail
  path /fluentd/log/k8s/*.log
  pos_file /fluentd/log/k8s.pos
  tag kubernetes.*
  format json
  time_key time
  time_format %Y-%m-%dT%H:%M:%S.%NZ
  read_from_head true
</source>

<match kubernetes.**>
  @type elasticsearch
  host elasticsearch
  port 9200
  logstash_format true
  flush_interval 5s
</match>

satyaprasad2006/fluentdbuild:latest
long now = System.currentTimeMillis();
long shifted = now - (30 * 60 * 1000);  // 30 minutes ago
String shiftedTime = new java.text.SimpleDateFormat("yyyy-MM-dd HH:mm:ss.SSS").format(new Date(shifted));
vars.put("formattedTime", shiftedTime);
